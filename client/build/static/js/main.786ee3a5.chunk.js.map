{"version":3,"sources":["images/organic-coffeestry.png","config.js","auth/index.js","user/Signup.js","user/Google.js","user/Signin.js","home/Banner.js","home/apiHome.js","home/ShowImage.js","home/Card.js","home/Home.js","home/Footer.js","DrawerToggleButton.js","home/cartHelpers.js","home/Navbar.js","SideDrawer.js","Backdrop.js","auth/AdminRoute.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","user/AdminDashboard.js","admin/AddProduct.js","admin/apiAdmin.js","home/Product.js","home/CartCoffee.js","home/TotalPrice.js","home/Cart.js","home/Checkout.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","user/Activate.js","user/Forgot.js","user/Reset.js","Routes.js","index.js"],"names":["module","exports","API","process","authenticate","data","next","window","localStorage","setItem","JSON","stringify","signout","removeItem","fetch","method","then","response","console","log","catch","err","isAuthenticated","getItem","parse","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","user","preventDefault","headers","Accept","body","json","showError","style","display","showSuccess","className","onChange","type","onClick","Google","informParent","f","responseGoogle","tokenId","axios","url","idToken","clientId","onSuccess","onFailure","render","renderProps","disabled","cookiePolicy","Signin","history","loading","redirectToReferrer","role","push","signin","showLoading","href","to","redirectUser","Banner","Component","getProducts","sortBy","ShowImage","item","src","_id","alt","Card","product","price","Home","productsBySell","setProductsBySell","setProductsByArrival","setError","useEffect","scrollTo","map","i","key","Footer","drawerToggleButton","props","click","itemTotal","length","getCart","Navbar","Logo","cursor","this","drawerClickHandler","withRouter","drawerClasses","show","location","backdrop","AdminRoute","component","rest","pathname","state","from","PrivateRoute","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","fontFamily","textAlign","fontSize","h","products","p","moment","createdAt","fromNow","purchaseHistory","AdminDashboard","AddProduct","description","shipping","quantity","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","onSubmit","accept","Product","setProduct","redirect","setRedirect","loadSingleProduct","productId","read","match","params","shouldRedirect","cart","count","Array","Set","id","find","addItem","substring","CartCoffee","cartUpdate","showRemoveProductButton","setRun","run","undefined","setCount","updateItem","splice","showRemoveButton","showCartUpdateOptions","TotalPrice","reduce","currentValue","nextValue","items","setItems","showCheckout","showItems","Checkout","clientToken","instance","address","setData","getToken","getBraintreeClientToken","handleAddress","getTotal","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","e","orderId","status","updateOrderStatus","o","oIndex","index","showStatus","pIndex","padding","border","Profile","update","alert","auth","updateUser","profileUpdate","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","marginTop","UpdateProduct","getProduct","updateProduct","Activate","jwt","decode","Forgot","passwordForgotForm","Reset","newPassword","resetPasswordLink","placeholder","required","Routes","sideDrawerOpen","drawerTogglerClickHandler","setState","prevState","backdropClickHandler","path","exact","Cart","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.786ee3a5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/organic-coffeestry.a7f0d58d.png\";","export const API = process.env.REACT_APP_API_URL;","import { API } from \"../config\";\n\nexport const signup = (user) => {\n    return fetch(`${API}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => {\n        console.log(err);\n    });\n};\n\nexport const signin = (user) => {\n    return fetch(`${API}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => {\n        console.log(err);\n    });\n};\n\nexport const authenticate = (data, next) => {\n    if(typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\n        next();\n    }\n};\n\nexport const signout = (next) => {\n    if(typeof window !== \"undefined\") {\n        localStorage.removeItem(\"jwt\");\n        next();\n        return fetch(`${API}/signout`, {\n            method: \"GET\"\n        })\n        .then(response => {\n            console.log(\"signout\", response);\n        })\n        .catch(err => console.log(err));\n    }\n};\n\nexport const isAuthenticated = () => {\n    if(typeof window == \"undefined\") {\n        return false;\n    }\n    if(localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"));\n    } else {\n        return false;\n    }\n};","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"../auth\";\n\nimport \"./Signup.css\"\n\nconst Signup = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        success: false\n    });\n\n    const { name, email, password, success, error } = values\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value })\n    };\n\n    const clickSubmit = (event) => {\n        event.preventDefault();\n        setValues({ ...values, error: false })\n        signup({ name, email, password })\n        .then(data => {\n            if(data.error) {\n                setValues({ ...values, error: data.error, success: false })\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    email: \"\",\n                    password:\"\",\n                    error: \"\",\n                    success: true\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"login-container\">\n                <h1 className=\"register-title\">Register</h1>\n                {showError()}\n                <h2 className=\"username\">Name</h2>\n                <input onChange={handleChange(\"name\")} type=\"text\" className=\"name-register\" name=\"username\" value={name}></input><br/>\n                <h2 className=\"email\">Email</h2>\n                <input onChange={handleChange(\"email\")} type=\"email\" className=\"email-box\" name=\"email\" value={email}></input><br/>\n                <h2 className=\"password\">Password</h2>\n                <input onChange={handleChange(\"password\")} type=\"password\" className=\"password-register\" name=\"password\" value={password}></input><br/>\n                {showSuccess()}\n                <button onClick={clickSubmit} type=\"submit\" className=\"register-btn\" value=\"Submit\">CREATE</button>\n            </div>\n        </form>\n    );\n\n    const showError = () => (\n        <div style={{ display: error ? \"\" : \"none\" }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div style={{ display: success ? \"\" : \"none\" }}>\n            Email has been sent. Please follow the instructions to activate your account.\n        </div>\n    );\n\n    return (\n        <div>\n            {signUpForm()}\n        </div>\n    );\n};\n\nexport default Signup;","import React from 'react';\nimport GoogleLogin from 'react-google-login';\nimport axios from 'axios';\n\nimport \"./Google.css\";\n\nconst Google = ({ informParent = f => f }) => {\n    const responseGoogle = (response, data) => {\n        console.log(response.tokenId);\n        axios({\n            method: 'POST',\n            url: `${process.env.REACT_APP_API_URL}/google-login`,\n            data: { idToken: response.tokenId }\n        })\n            .then(response => {\n                console.log('GOOGLE SIGNIN SUCCESS', response);\n                informParent(response.data);\n            })\n            .catch(error => {\n                console.log('GOOGLE SIGNIN ERROR', error.response);\n            });\n    };\n    return (\n        <div className=\"pb-3\">\n            <GoogleLogin\n                clientId={`${process.env.REACT_APP_GOOGLE_CLIENT_ID}`}\n                onSuccess={responseGoogle}\n                onFailure={responseGoogle}\n                render={renderProps => (\n                    <button\n                        onClick={renderProps.onClick}\n                        disabled={renderProps.disabled}\n                        className=\"google-btn\"\n                    >\n                        <i className=\"fab fa-google pr-2\"></i> Login with Google\n                    </button>\n                )}\n                cookiePolicy={'single_host_origin'}\n            />\n        </div>\n    );\n};\n\nexport default Google;","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\nimport Google from \"./Google\";\n\nimport \"./Signin.css\"\n\nconst Signin = ({ history }) => {\n    const [values, setValues] = useState({\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        loading: false,\n        redirectToReferrer: false\n    });\n\n    const { email, password, loading, error, redirectToReferrer } = values;\n    const { user } = isAuthenticated();\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value })\n    };\n\n    const informParent = data => {\n        authenticate(data, () => {\n            user && user.role === 1 ? history.push('/admin/dashboard') : history.push('/');\n        });\n    };\n\n    const clickSubmit = (event) => {\n        event.preventDefault();\n        setValues({ ...values, error: false, loading: true })\n        signin({ email, password })\n        .then(data => {\n            if(data.error) {\n                setValues({ ...values, error: data.error, loading: false })\n            } else {\n                authenticate(data, () => {\n                    setValues({\n                        ...values,\n                        redirectToReferrer: true\n                    });\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"login-container\">\n                <h1 className=\"login-title\">Login</h1>\n                {showError()}\n                <h2 className=\"email-name\">Email</h2>\n                <input onChange={handleChange(\"email\")} type=\"email\" className=\"email-box\" name=\"email\" value={email}></input><br/>\n                <h2 className=\"password\">Password</h2>\n                <input onChange={handleChange(\"password\")} type=\"password\" className=\"password-box\" name=\"password\" value={password}></input><br/>\n                {showLoading()}\n                <button onClick={clickSubmit} type=\"submit\" className=\"login-btn\" value=\"Submit\">SIGN IN</button>\n                <Google informParent={informParent} />\n                <p className=\"register-link\"><a href=\"/signup\">Don't have an account yet?</a></p>\n                <p className=\"forgot-link\"><a href=\"/auth/password/forgot\">Forgot password?</a></p>\n            </div>\n        </form>\n    );\n\n    const showError = () => (\n        <div style={{ display: error ? \"\" : \"none\" }}>\n            {error}\n        </div>\n    );\n\n    const showLoading = () => (\n        loading && (\n            <div>\n                <h2>Loading...</h2>\n            </div>\n        )\n    );\n\n    const redirectUser = () => {\n        if (redirectToReferrer) {\n            if (user && user.role === 1) {\n                return <Redirect to=\"/admin/dashboard\" />;\n            } else {\n                return <Redirect to=\"/\" />;\n            }\n        }\n    };\n\n    return (\n        <div className=\"background\">\n                {signUpForm()}\n                {redirectUser()}\n        </div>\n    );\n};\n\nexport default Signin;","import React, { Component } from \"react\"\n\nimport \"./Banner.css\";\n\nclass Banner extends Component {\n    render() {\n        return(\n            <div className=\"banner\">\n                <div className=\"banner-text\">\n                    <h1>Organic Coffeestry</h1>\n                </div>\n            </div>\n        )\n    }\n};\n\nexport default Banner;","import { API } from \"../config\";\n\nexport const getProducts = (sortBy) => {\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=10`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const read = productId => {\n    return fetch(`${API}/product/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n    return fetch(`${API}/braintree/getToken/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n    return fetch(`${API}/braintree/payment/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(paymentData)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n    return fetch(`${API}/order/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ order: createOrderData })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React from \"react\";\nimport { API } from \"../config\";\n\nconst ShowImage = ({ item, url }) => (\n    <div>\n        <img src={`${API}/${url}/photo/${item._id}`} alt={item.name} className=\"coffee\"></img>\n    </div>\n);\n\nexport default ShowImage;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\n\nimport \"./Card.css\";\n\nconst Card = ({ product }) => {\n    return (\n            <ul>\n                <div className=\"main-coffee\">\n                    <Link to={`/product/${product._id}`}>\n                        <ShowImage item={product} url=\"product\" />\n                    </Link>\n                    <li><h3 className=\"main-coffee-name\">{product.name}</h3></li>\n                    <li><p className=\"main-price\">${product.price}</p></li>\n                </div>\n            </ul>\n    );\n};\n\nexport default Card;","import React, { useState, useEffect } from \"react\";\nimport Banner from \"./Banner\";\nimport { getProducts } from \"./apiHome\";\nimport Card from \"./Card\";\n\nconst Home = () => {\n    const [productsBySell, setProductsBySell] = useState([]);\n    const [productsByArrival, setProductsByArrival] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadProductsBySell = () => {\n        getProducts('sold').then(data => {\n            // console.log(\"hi\");\n            if (error) {\n                setError(error);\n            } else {\n                setProductsBySell(data);\n            }\n        });\n    };\n\n    const loadProductsByArrival = () => {\n        getProducts(\"createdAt\").then(data => {\n            console.log(data);\n            if(data.error) {\n                setError(data.error);\n            } else {\n                setProductsByArrival(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadProductsByArrival()\n        loadProductsBySell()\n        window.scrollTo(0, 0);\n    }, []);\n\n    return (\n        <div>\n            <Banner />\n            <h1 className=\"selections\">Selections</h1>\n            <div className=\"coffee-list\">\n                {productsBySell.map((product, i) => (\n                    <Card key={i} product={product} />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default Home;","import React from \"react\";\n\nimport \"./Footer.css\";\n\nconst Footer = () => {\n    return (\n        <div className=\"footer\">\n            <div className=\"footer-container\">\n                <div className=\"footer-links\">\n                    <li><a href=\"/\" className=\"footer-link home-link\">Home</a></li>\n                    <li><a href=\"mailto:louisybarrajr@gmail.com\" className=\"footer-link\">Contact</a></li>\n                </div>\n                <div className=\"footer-info\">\n                    <p className=\"copyright\">&copy;2020 Organic Coffeestry</p>\n                    <p className=\"crafted-by\">Crafted by Ralphie Celedon</p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Footer;","import React from \"react\";\n\nimport \"./DrawerToggleButton.css\";\n\nconst drawerToggleButton = props => (\n    <button className=\"toggle-button\" onClick={props.click}>\n        <div className=\"toggle-button__line\" />\n        <div className=\"toggle-button__line\" />\n        <div className=\"toggle-button__line\" />\n    </button>\n);\n\nexport default drawerToggleButton;","export const addItem = (item, next) => {\n    let cart = [];\n    if(typeof window !== \"undefined\") {\n        if(localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n        cart.push({\n            ...item,\n            count: 1\n        });\n        cart = Array.from(new Set(cart.map((p) => (p._id)))).map(id => {\n            return cart.find(p => p._id === id);\n        });\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n        next();\n    }\n};\n\nexport const itemTotal = () => {\n    if(typeof window !== \"undefined\") {\n        if(localStorage.getItem(\"cart\")) {\n            return JSON.parse(localStorage.getItem(\"cart\")).length;\n        }\n    }\n    return 0;\n};\n\nexport const getCart = () => {\n    if(typeof window !== \"undefined\") {\n        if(localStorage.getItem(\"cart\")) {\n            return JSON.parse(localStorage.getItem(\"cart\"));\n        }\n    }\n    return [];\n};\n\nexport const updateItem = (productId, count) => {\n    let cart = [];\n    if(typeof window !== \"undefined\") {\n        if(localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n        cart.map((product, i) => {\n            if(product._id === productId) {\n                cart[i].count = count;\n            }\n        });\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n};\n\nexport const removeItem = productId => {\n    let cart = [];\n    if (typeof window !== 'undefined') {\n        if (localStorage.getItem('cart')) {\n            cart = JSON.parse(localStorage.getItem('cart'));\n        }\n\n        cart.map((product, i) => {\n            if (product._id === productId) {\n                cart.splice(i, 1);\n            }\n        });\n\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }\n    return cart;\n};\n\nexport const emptyCart = next => {\n    if(typeof window !== \"undefined\") {\n        localStorage.removeItem(\"cart\");\n        next();\n    }\n};","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport DrawerToggleButton from \"../DrawerToggleButton\";\nimport { signout, isAuthenticated } from \"../auth\";\nimport { itemTotal } from \"./cartHelpers\";\n\nimport \"./Navbar.css\";\nimport Logo from \"../images/organic-coffeestry.png\";\n\nclass Navbar extends Component {\n    render() {\n        return (\n            <header className=\"toolbar\">\n                <nav className=\"toolbar__navigation\">\n                    <div className=\"logo\">\n                        <Link to=\"/\"><img className=\"nav-title\" src={Logo} alt=\"\" /></Link>\n                    </div>\n                    <div className=\"toolbar_navigation-items\">\n                        <ul className=\"nav-links\">\n                            <li><Link className=\"link\" to=\"/\">Home</Link></li>\n                            <li className=\"cart-link\"><Link className=\"link\" to=\"/cart\">Cart{\" \"}<sup><small className=\"cart-badge\">{itemTotal()}</small></sup></Link></li>\n                            {\n                                isAuthenticated() && isAuthenticated().user.role === 1 && <li><Link className=\"link\" to=\"/admin/dashboard\">Dashboard</Link></li>\n                            }\n                            {\n                                isAuthenticated() && isAuthenticated().user.role === 0 && <li><Link className=\"link\" to=\"/user/dashboard\">Dashboard</Link></li>\n                            }\n                            {\n                                !isAuthenticated() && <li><Link className=\"link\" to=\"/signin\">Login</Link></li>\n                            }\n                            {\n                                !isAuthenticated() && <li><Link className=\"link\" to=\"/signup\">Register</Link></li>\n                            }\n                            {\n                                isAuthenticated() && \n                                <li>\n                                    <span \n                                        className=\"link\" \n                                        style={{ cursor: \"pointer\" }}\n                                        onClick={() => \n                                            signout(() => {\n                                                this.props.history.push(\"/\");\n                                            })\n                                        }\n                                    >\n                                        Logout\n                                    </span>\n                                </li>\n                            }\n                        </ul>\n                    </div>\n                    <div className=\"toolbar__toggle-button\">\n                        <DrawerToggleButton click={this.props.drawerClickHandler} />\n                    </div>\n                </nav>\n            </header>\n        );\n    };\n};\n\nexport default withRouter(Navbar);","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signout, isAuthenticated } from \"./auth\";\nimport { itemTotal } from \"./home/cartHelpers\";\n\nimport \"./SideDrawer.css\";\n\nconst sideDrawer = props => {\n    let drawerClasses = \"side-drawer\";\n    if (props.show) {\n        drawerClasses = \"side-drawer open\";\n    }\n    return(\n        <nav className={drawerClasses}>\n            <ul>\n                <li><Link className=\"link\" to=\"/\" onClick={props.click}>Home</Link></li>\n                <li className=\"cart-link\"><Link className=\"link\" to=\"/cart\" onClick={props.click}>Cart{\" \"}<sup><small className=\"cart-badge\">{itemTotal()}</small></sup></Link></li>\n                {\n                    isAuthenticated() && isAuthenticated().user.role === 1 && <li><Link className=\"link\" to=\"/admin/dashboard\" onClick={props.click}>Dashboard</Link></li>\n                }\n                {\n                    isAuthenticated() && isAuthenticated().user.role === 0 && <li><Link className=\"link\" to=\"/user/dashboard\" onClick={props.click}>Dashboard</Link></li>\n                }\n                {\n                    !isAuthenticated() && <li><Link className=\"link\" to=\"/signin\" onClick={props.click}>Login</Link></li>\n                }\n                {\n                    !isAuthenticated() && <li><Link className=\"link\" to=\"/signup\" onClick={props.click}>Register</Link></li>\n                }\n                {\n                                isAuthenticated() && \n                                <li>\n                                    <span \n                                        className=\"link\" \n                                        style={{ cursor: \"pointer\" }}\n                                        onClick={() => \n                                            signout(() => {\n                                                window.location=\"/\";\n                                            })\n                                        }\n                                    >\n                                        Logout\n                                    </span>\n                                </li>\n                            }\n            </ul>\n        </nav>\n    );\n};\n\nexport default withRouter(sideDrawer);","import React from \"react\";\n\nimport \"./Backdrop.css\";\n\nconst backdrop = props => (\n    <div className=\"backdrop\" onClick={props.click} />\n);\n\nexport default backdrop;","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() && isAuthenticated().user.role === 1 ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default AdminRoute;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;","import React, { useState, useEffect } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getPurchaseHistory } from \"./apiUser\";\nimport moment from \"moment\";\n\nimport \"./UserDashboard.css\";\n\nconst Dashboard = () => {\n    const [history, setHistory] = useState([]);\n\n    const { user: { _id, name, email, role } } = isAuthenticated();\n    const token = isAuthenticated().token;\n\n    const init = (userId, token) => {\n        getPurchaseHistory(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setHistory(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(_id, token);\n    }, []);\n\n    const userLinks = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h4 className=\"card-header\">User Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/cart\">My Cart</Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>Update Profile</Link>\n                    </li>\n                </ul>\n            </div>\n        )\n    };\n\n    const userInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">{role === 1 ? \"Admin\" : \"Registered User\"}</li>\n                </ul>\n            </div>\n        )\n    };\n\n    const purchaseHistory = history => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Purchase history</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        {history.map((h, i) => {\n                            return (\n                                <div key={i}>\n                                    {h.products.map((p, i) => {\n                                        return (\n                                            <div key={i}>\n                                            <hr/>\n                                                <h6>Product name: {p.name}</h6>\n                                                <h6>\n                                                    Product price: ${p.price}\n                                                </h6>\n                                                <h6>\n                                                    Purchased date:{\" \"}\n                                                    {moment(\n                                                        h.createdAt\n                                                    ).fromNow()}\n                                                </h6>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            );\n                        })}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"container-fluid\">\n            <h2 style={{fontFamily: \"Raleway\", textAlign: \"center\", fontSize: \"40px\"}}>{`Hello ${name}!`}</h2>\n            <div className=\"row\">\n                    {userLinks()}\n                    {userInfo()}\n                    <div className=\"col-6 purchase-history\">\n                        {purchaseHistory(history)}\n                    </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Dashboard;","import { API } from \"../config\";\n\nexport const read = (userId, token) => {\n    return fetch(`${API}/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const update = (userId, token, user) => {\n    return fetch(`${API}/user/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateUser = (user, next) => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"jwt\")) {\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\n            auth.user = user;\n            localStorage.setItem(\"jwt\", JSON.stringify(auth));\n            next();\n        }\n    }\n};\n\nexport const getPurchaseHistory = (userId, token) => {\n    return fetch(`${API}/orders/by/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./AdminDashboard.css\";\n\nconst AdminDashboard = () => {\n    const {\n        user: { _id, name, email, role }\n    } = isAuthenticated();\n\n    const adminLinks = () => {\n        return (\n            <div className=\"links-group\">\n                <h3 className=\"links-header\">Admin Links</h3>\n                <ul className=\"admin-links-group\">\n                    <li className=\"links\">\n                        <Link className=\"nav-link\" to=\"/create/product\">\n                            Create Product\n                        </Link>\n                    </li>\n                    <li className=\"links\">\n                        <Link className=\"nav-link\" to=\"/admin/orders\">\n                            View Orders\n                        </Link>\n                    </li>\n                    <li className=\"links\">\n                        <Link className=\"nav-link\" to=\"/admin/products\">\n                            Manage Products\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const adminInfo = () => {\n        return (\n            <div className=\"info-group\">\n                <h3 className=\"links-header\">User Information</h3>\n                <ul>\n                    <li className=\"admin-information\">{name}</li>\n                    <li className=\"admin-information\">{email}</li>\n                    <li className=\"admin-information\">\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <div>\n            <h1 className=\"admin-greet\">{`Hello ${name}!`}</h1>\n            <div className=\"dashboard\">\n                <div className=\"admin-links\">{adminLinks()}</div>\n                <div className=\"admin-info\">{adminInfo()}</div>\n            </div>\n        </div>\n    );\n};\n\nexport default AdminDashboard;","import React, { useState, useEffect } from 'react';\nimport { isAuthenticated } from '../auth';\nimport { Link } from 'react-router-dom';\nimport { createProduct } from './apiAdmin';\n\nimport \"./AddProduct.css\";\n\nconst AddProduct = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        shipping: \"\",\n        quantity: \"\",\n        photo: \"\",\n        loading: false,\n        error: \"\",\n        createdProduct: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    const {\n        name,\n        description,\n        price,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    useEffect(() => {\n        setValues({ ...values, formData: new FormData() })\n    }, []);\n\n    const handleChange = name => event => {\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        createProduct(user._id, token, formData)\n        .then(data => {\n            if(data.error) {\n                setValues({ ...values, error: data.error })\n            } else {\n                setValues({\n                    values, \n                    name: \"\", \n                    description: \"\", \n                    photo: \"\", \n                    price: \"\", \n                    quantity: \"\", \n                    loading: false,\n                    createdProduct: data.name\n                });\n            }\n        })\n    };\n\n    const newPostForm = () => (\n        <div className=\"login-container\">\n            <h1 className=\"create-title\">Create Coffee</h1>\n            <form onSubmit={clickSubmit}>\n                        <h2 className=\"create-name\">Name</h2>\n                        <input \n                            onChange={handleChange(\"name\")} \n                            className=\"name-field\" \n                            type=\"text\" \n                            value={name} \n                        />\n                        <h2 className=\"create-pic\">Picture</h2>\n                        <input \n                            onChange={handleChange(\"photo\")} \n                            className=\"image-field\" \n                            type=\"file\" \n                            name=\"photo\" \n                            accept=\"image/*\" \n                        />\n                        <h2 className=\"create-desc\">Description</h2>\n                        <textarea \n                            onChange={handleChange(\"description\")} \n                            className=\"desc-field\" \n                            value={description} \n                        />\n                        <h2 className=\"create-price\">Price</h2>\n                        <input \n                            onChange={handleChange(\"price\")} \n                            className=\"price-field\" \n                            type=\"number\" \n                            value={price} \n                        />\n                        <h2 className=\"create-price\">Shipping</h2>\n                        <select onChange={handleChange(\"shipping\")}>\n                            <option value=\"0\">No</option>\n                            <option value=\"1\">Yes</option>\n                        </select>\n                        <h2 className=\"create-price\">Quantity</h2>\n                        <input \n                            onChange={handleChange(\"quantity\")} \n                            className=\"price-field\"\n                            type=\"number\" \n                            value={quantity} \n                        />\n                        {showSuccess()}\n                        <div className=\"create-btn-container\">\n                            <button className=\"create-btn\" type=\"submit\">Create Coffee</button>\n                        </div>\n            </form>\n        </div>\n    );\n\n    const showError = () => (\n        <div style={{ display: error ? '' : 'none' }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div style={{ display: createdProduct ? '' : 'none' }}>\n            <h2>{`${createdProduct}`} is created!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div>\n                <h2>Loading...</h2>\n            </div>\n    );\n\n    return (\n        <div>\n            <div>\n                <div>\n                    {showLoading()}\n                    {showError()}\n                    {newPostForm()}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AddProduct;","import { API } from \"../config\";\n\nexport const createProduct = (userId, token, product) => {\n    return fetch(`${API}/product/create/${userId}`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const listOrders = (userId, token) => {\n    return fetch(`${API}/order/list/${userId}`, {\n        method: 'GET',\n        headers: {\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getStatusValues = (userId, token) => {\n    return fetch(`${API}/order/status-values/${userId}`, {\n        method: 'GET',\n        headers: {\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\n        method: 'PUT',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ status, orderId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getProducts = () => {\n    return fetch(`${API}/products?limit=undefined`, {\n        method: 'GET'\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const deleteProduct = (productId, userId, token) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: 'DELETE',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getProduct = productId => {\n    return fetch(`${API}/product/${productId}`, {\n        method: 'GET'\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateProduct = (productId, userId, token, product) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: 'PUT',\n        headers: {\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React, { useState, useEffect } from 'react';\nimport { read } from './apiHome';\nimport Card from './Card';\nimport ShowImage from \"./ShowImage\";\nimport { addItem } from \"./cartHelpers\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./Product.css\";\n\nconst Product = (props) => {\n    const [product, setProduct] = useState({});\n    const [error, setError] = useState(false); \n    const [redirect, setRedirect] = useState(false);\n\n    const loadSingleProduct = productId => {\n        read(productId).then(data => {\n            console.log(data);\n            if(data.error) {\n                setError(data.error);\n            } else {\n                setProduct(data);\n            }\n        });\n    };  \n\n    useEffect(() => {\n        const productId = props.match.params.productId;\n        loadSingleProduct(productId);\n        window.scrollTo(0, 0);\n    }, []);\n\n    const showStock = quantity => {\n        return quantity > 0 ? (\n          <span>In Stock </span>\n        ) : (\n          <span>Out of Stock </span>\n        );\n      };\n\n    const addToCart = () => {\n        addItem(product, () => {\n            setRedirect(true)\n        });\n    };\n\n    const shouldRedirect = redirect => {\n        if(redirect) {\n            return <Redirect to=\"/cart\" />\n        }\n    };\n\n    return (\n        <div className=\"coffee-show-container\">\n            <ul>\n                <li><ShowImage className=\"coffee-show\" item={product} url=\"product\" /></li>\n                <div className=\"coffee-info\">\n                    {shouldRedirect(redirect)}\n                    <li><h1 className=\"coffee-name\">{product && product.name}</h1></li>\n                    {/* {showStock(product.quantity)} */}\n                    <div className=\"price-cart-btn\">\n                        <li><p className=\"coffee-show-price\">${product.price}</p></li>\n                        <button onClick={addToCart} className=\"add-to-cart\">ADD TO CART</button>\n                    </div>\n                    <li><p>{product.description && product.description && product.description.substring(0, 100)}</p></li>\n                </div>\n            </ul>\n        </div>\n    );\n};\n\nexport default Product;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport { updateItem, removeItem } from \"./cartHelpers\";\nimport { getProducts } from \"./apiHome\";\n\nconst CartCoffee = ({ \n    product, \n    cartUpdate = false, \n    showRemoveProductButton = false, \n    setRun = f => f, \n    run = undefined\n}) => {\n    const [count, setCount] = useState(product.count);\n\n    const handleChange = productId => event => {\n        setRun(!run);\n        setCount(event.target.value < 1 ? 1 : event.target.value);\n        if(event.target.value >= 1) {\n            updateItem(productId, event.target.value)\n        }\n    };\n\n    const showCartUpdateOptions = cartUpdate => {\n        return cartUpdate && \n            <div>\n                <input type=\"number\" className=\"quantity-field\" value={count} onChange={handleChange(product._id)}></input>\n            </div>\n    };\n\n    const showRemoveButton = showRemoveProductButton => {\n        return (\n          showRemoveProductButton && (\n            <button\n              onClick={() => {\n                removeItem(product._id);\n                setRun(!run);\n              }}\n              className=\"remove-btn\"\n            >\n              REMOVE\n            </button>\n          )\n        );\n      };\n\n    return(\n        <div className=\"cart-container\">\n            <ul>\n                <hr className=\"top-line\"></hr>\n                <div className=\"list-container\">\n                    <div className=\"img-name-price\">\n                        <div>\n                            <li><Link to={`/product/${product._id}`}><ShowImage className=\"cart-coffee\" item={product} url=\"product\" /></Link></li>\n                        </div>\n                        <div className=\"name-remove\">\n                            <li><h3 className=\"cart-coffee-name\"><span className=\"break\">{product.name}</span></h3></li>\n                            <li>{showRemoveButton(showRemoveProductButton)}</li>\n                        </div>\n                    </div>\n                    <div className=\"quan-price\">\n                        <li>{showCartUpdateOptions(cartUpdate)}</li>\n                        <li><p className=\"cart-price\">${product.price}</p></li>\n                    </div>\n                </div>\n            </ul>\n        </div>\n    );\n};\n\nexport default CartCoffee;","import React from \"react\";\n\nconst TotalPrice = ({ products }) => {\n    const getTotal = () => {\n        return products.reduce((currentValue, nextValue) => {\n            return currentValue + nextValue.count * nextValue.price;\n        }, 0);\n    };\n    return (\n        <div>\n            <h2 className=\"total-price\">Total: ${getTotal()}</h2>\n        </div>\n    )\n};\n\nexport default TotalPrice;","import React, { useState, useEffect } from \"react\";\nimport { getCart } from \"./cartHelpers\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport CartCoffee from \"./CartCoffee\";\nimport TotalPrice from \"./TotalPrice\";\n\nimport \"./Cart.css\";\n\nconst Cart = () => {\n    const [items, setItems] = useState([]);\n    const [run, setRun] = useState(false);\n\n    useEffect(() => {\n        setItems(getCart());\n        window.scrollTo(0, 0);\n    }, [run]);\n\n    const showItems = items => {\n        return (\n            <div>\n                <h1 className=\"user-cart-title\">YOUR CART</h1>\n                <div className=\"cart-titles\">\n                    <h4 className=\"product-cart\">PRODUCT</h4>\n                    <h4 className=\"quantity-cart\">QUANTITY</h4>\n                    <h4 className=\"total-cart\">PRICE</h4>\n                </div>\n                {items.map((product, i) => (\n                <CartCoffee \n                    key={i} \n                    product={product} \n                    cartUpdate={true} \n                    showRemoveProductButton={true} \n                    setRun={setRun}\n                    run={run}\n                />))}\n                <hr className=\"bottom-line\"></hr>\n                <div className=\"bottom-cart-container\">\n                    <TotalPrice products={items} />\n                    <div className=\"cart-buttons\">\n                        <Link to=\"/\"><button className=\"continue-btn\"> CONTINUE SHOPPING</button></Link>\n                        {showCheckout()}\n                    </div>\n                </div>\n            </div>\n        );\n    };\n\n    const showCheckout = () => {\n        return isAuthenticated() ? (\n            <Link to=\"/checkout\"><button className=\"checkout-btn\">CHECKOUT</button></Link>\n        ) : (\n            <Link to=\"signin\">\n                <button className=\"checkout-btn\">Login to checkout</button>\n            </Link>\n        );\n    };\n\n    const noItemsMessage = () => (\n        <div className=\"empty-cart\">\n            <h2 className=\"empty-cart-text\">Your cart is empty. Go buy some coffee!</h2>\n            <Link to=\"/\"><button className=\"empty-btn\">Continue shopping</button></Link>\n        </div>\n    );\n\n    return (\n        <div>\n            <div className=\"empty-cart-page\">\n                {items.length > 0 ? showItems(items) : noItemsMessage()}\n            </div>\n            <div>\n\n            </div>\n        </div>\n    );\n};\n\nexport default withRouter(Cart);","import React, { useState, useEffect } from \"react\";\nimport { getCart, emptyCart } from \"./cartHelpers\";\nimport { getBraintreeClientToken, processPayment, createOrder } from \"./apiHome\";\nimport { isAuthenticated } from \"../auth\";\nimport  { Link } from \"react-router-dom\";\nimport DropIn from \"braintree-web-drop-in-react\";\n\nimport \"./Checkout.css\";\n\nconst Checkout = () => {\n    const [data, setData] = useState({\n        loading: false,\n        success: false,\n        clientToken: null,\n        error: \"\",\n        instance: {},\n        address: \"\"\n    });\n    const [items, setItems] = useState([]);\n    const [run, setRun] = useState(false);\n\n    const userId = isAuthenticated() && isAuthenticated().user._id;\n    const token = isAuthenticated() && isAuthenticated().token;\n\n    const getToken = (userId, token) => {\n        getBraintreeClientToken(userId, token).then(data => {\n            if(data.error) {\n                setData({ ...data, error: data.error });\n            } else {\n                setData({ clientToken: data.clientToken });\n            }\n        });\n    };\n\n    useEffect(() => {\n        setItems(getCart());\n        getToken(userId, token)\n    }, [run]);\n\n    const handleAddress = event => {\n        setData({ ...data, address: event.target.value });\n    };\n    \n    const getTotal = () => {\n        return items.reduce((currentValue, nextValue) => {\n            return currentValue + nextValue.count * nextValue.price;\n        }, 0);\n    };\n\n    const showCheckout = () => {\n        return isAuthenticated() ? (\n            <div>{showDropIn()}</div>\n        ) : (\n            <Link to=\"signin\">\n                <button className=\"checkout-btn\">Login to checkout</button>\n            </Link>\n        );\n    };\n\n    let deliveryAddress = data.address;\n\n    const buy = () => {\n        setData({ loading: true });\n        let nonce;\n        let getNonce = data.instance.requestPaymentMethod()\n        .then(data => {\n            // console.log(data);\n            nonce = data.nonce;\n            // console.log(\"Send nonce and total to process: \", nonce, getTotal(items));\n            const paymentData = {\n                paymentMethodNonce: nonce,\n                amount: getTotal(items)\n            }\n            processPayment(userId, token, paymentData)\n            .then(response => {\n                console.log(response);\n\n                const createOrderData = {\n                    products: items,\n                    transaction_id: response.transaction.id,\n                    amount: response.transaction.amount,\n                    address: deliveryAddress\n                };\n\n                createOrder(userId, token, createOrderData)\n                    .then(response => {\n                        emptyCart(() => {\n                            // setRun(!run);\n                            console.log(\"Payment success and empty cart\", createOrderData);\n                            setData({ loading: false, success: true });\n                        });\n                    });\n            })\n            .catch(error => {\n                console.log(error);\n                setData({ loading: false });\n            });\n        })\n        .catch(error => {\n            // console.log(\"Dropin error: \", error);\n            setData({ ...data, error: error.message });\n        });\n    };\n\n    const showDropIn = () => (\n        <div onBlur={() => setData({ ...data, error: \"\" })}>\n            {data.clientToken !== null && items.length > 0 ? (\n                <div>\n                    <div>\n                        <h2 className=\"delivery-address\">Delivery Address</h2>\n                        <textarea className=\"delivery-address-box\" onChange={handleAddress} value={data.address} />\n                    </div>\n                    <DropIn options={{\n                            authorization: data.clientToken,\n                            paypal: {\n                                flow: \"vault\"\n                            }\n                        }} \n                        onInstance={instance => (data.instance = instance)} \n                    />\n                    <button onClick={buy} className=\"pay-btn\">PAY</button>\n                </div>\n            ) : null}\n        </div>\n    );\n\n    const showError = error => (\n        <div style={{ display: error ? \"\" : \"none\" }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = success => (\n        <div style={{ display: success ? \"\" : \"none\" }}>\n            Thank you! Your payment was successful!<br/>\n            <Link to=\"/\"><button className=\"home-btn\">HOME</button></Link>\n        </div>\n    );\n\n    const showLoading = (loading) => (\n        loading && <h2>Loading...</h2>\n    );\n\n    return (\n        <div className=\"checkout\">\n            <div className=\"checkout-forms\">\n                {showCheckout()}\n            </div>\n            {showLoading(data.loading)}\n            {showSuccess(data.success)}\n            {showError(data.error)}\n            <h2 className=\"cart-total\">Total: ${getTotal()}</h2>\n        </div>\n    );\n};\n\nexport default Checkout;","import React, { useState, useEffect } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\nimport moment from \"moment\";\n\nimport \"./Orders.css\";\n\nconst Orders = () => {\n    const [orders, setOrders] = useState([]);\n    const [statusValues, setStatusValues] = useState([]);\n\n    const {user, token} = isAuthenticated()\n\n    const loadOrders = () => {\n        listOrders(user._id, token).then(data => {\n            if(data.error) {\n                console.log(data.error);\n            } else {\n                setOrders(data);\n            }\n        });\n    };\n\n    const loadStatusValues = () => {\n        getStatusValues(user._id, token).then(data => {\n            if(data.error) {\n                console.log(data.error);\n            } else {\n                setStatusValues(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadOrders();\n        loadStatusValues();\n    }, [])\n\n    const showOrdersLength = () => {\n        if (orders.length > 0) {\n            return (\n                <h1 style={{fontFamily: \"Raleway\"}}>Total orders: {orders.length}</h1>\n            );\n        } else {\n            return <h1 style={{fontFamily: \"Raleway\"}}>No orders</h1>\n        }\n    };\n\n    const showInput = (key, value) => (\n        <div>\n            <div>\n                <div>{key}</div>\n            </div>\n            <input type=\"text\" value={value} className=\"form-control\" readOnly/>\n        </div>\n    );\n\n    const handleStatusChange = (e, orderId) => {\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(data => {\n            if(data.error) {\n                console.log(\"Status update failed\");\n            } else {\n                loadOrders();\n            }\n        });\n    };\n\n    const showStatus = (o) => (\n        <div>\n            <h3 style={{fontFamily: \"Raleway\"}}>Status: {o.status}</h3>\n            <select \n                className=\"form-control\"\n                onChange={e => (handleStatusChange(e, o._id))}\n            >\n                <option>Update Status</option>\n                {statusValues.map((status, index) => (\n                    <option key={index} value={status}>\n                        {status}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n\n    return(\n        <div>\n            <h1 style={{textAlign: \"center\", fontFamily: \"Raleway\"}}>Manage orders here</h1>\n            <div>\n                <div className=\"orders-layout\">\n                <hr />\n                    {showOrdersLength()}\n                    {orders.map((o, oIndex) => {\n                        return(\n                            <div key={oIndex}>\n                                <h2>\n                                    <span className=\"order-id\">\n                                        Order ID: {o._id}\n                                    </span>\n                                </h2>\n                                <ul className=\"list-group orders-group\">\n                                    <li className=\"list-group-item\">\n                                        {showStatus(o)}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Transaction ID: {o.transaction_id}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Amount: ${o.amount}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Ordered by: {o.user.name}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Ordered on: {moment(o.createdAt).fromNow()}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Delivery address: {o.address}\n                                    </li>\n                                </ul>\n                                <h3 className=\"total-order\">\n                                    Total products in the order: {o.products.length}\n                                </h3>\n                                {o.products.map((p, pIndex) => (\n                                    <div className=\"mb-4\" key={pIndex} style={{padding: \"20px\", border: \"1px solid black\"}}>\n                                        {showInput(\"Product name\", p.name)}\n                                        {showInput(\"Product price\", p.price)}\n                                        {showInput(\"Product total\", p.count)}\n                                        {showInput(\"Product Id\", p._id)}\n                                    </div>\n                                ))}\n                                <hr/>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Orders;","import React, { useState, useEffect } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\nimport { read, update, updateUser } from \"./apiUser\";\n\nconst Profile = ({ match }) => {\n    const [values, setValues] = useState({\n        name: '',\n        email: '',\n        password: '',\n        error: false,\n        success: false\n    });\n\n    const { name, email, password, error, success } = values;\n    const { token } = isAuthenticated();\n\n    const init = userId => {\n        read(userId, token).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: true });\n            } else {\n                setValues({ ...values, name: data.name, email: data.email });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.userId);\n    }, []);\n\n    const handleChange = name => e => {\n        setValues({ ...values, error: false, [name]: e.target.value });\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        update(match.params.userId, token, { name, email, password }).then(data => {\n            if (data.error) {\n                // console.log(data.error);\n                alert(data.error);\n            } else {\n                updateUser(data, () => {\n                    setValues({\n                        ...values,\n                        name: data.name,\n                        email: data.email,\n                        success: true\n                    });\n                });\n            }\n        });\n    };\n\n    const redirectUser = success => {\n        if (success) {\n            return <Redirect to=\"/\" />;\n        }\n    };\n\n    const profileUpdate = (name, email, password) => (\n        <form>\n            <div className=\"login-container\">\n                <h1 className=\"register-title\">Profile Update</h1>\n                <h2 className=\"username\">Name</h2>\n                <input onChange={handleChange(\"name\")} type=\"text\" className=\"name-register\" name=\"username\" value={name}></input><br/>\n                <h2 className=\"email\">Email</h2>\n                <input onChange={handleChange(\"email\")} type=\"email\" className=\"email-box\" name=\"email\" value={email}></input><br/>\n                <h2 className=\"password\">Password</h2>\n                <input onChange={handleChange(\"password\")} type=\"password\" className=\"password-register\" name=\"password\" value={password}></input><br/>\n                <button onClick={clickSubmit} type=\"submit\" className=\"register-btn\" value=\"Submit\">UPDATE</button>\n            </div>\n        </form>\n    );\n\n    return(\n        <div>\n            {profileUpdate(name, email, password)}\n            {redirectUser(success)}\n        </div>\n    )\n};\n\nexport default Profile;","import React, { useState, useEffect } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\n\nimport \"./ManageProducts.css\";\n\nconst ManageProducts = () => {\n    const [products, setProducts] = useState([]);\n    const {user, token} = isAuthenticated();\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if(data.error) {\n                console.log(data.error);\n            } else {\n                setProducts(data);\n            }\n        });\n    };\n\n    const destroy = productId => {\n        deleteProduct(productId, user._id, token).then(data => {\n            if(data.error) {\n                console.log(data.error);\n            } else {\n                loadProducts();\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadProducts();\n    }, []);\n\n    return (\n        <div>\n            <h2 style={{fontFamily: \"Raleway\", textAlign: \"center\"}}>Manage Products</h2>\n            <div className=\"manage-products\">\n                <h2 className=\"text-center\" style={{fontFamily: \"Raleway\"}}>Total {products.length} products</h2>\n                    <ul className=\"list-group\">\n                        {products.map((p, i) => (\n                            <li key={i} className=\"list-group-item\">\n                                <div className=\"products-container\">\n                                    <h3 style={{fontFamily: \"Raleway\", marginTop: \"10px\"}}>{p.name}</h3>\n                                    <Link to={`/admin/product/update/${p._id}`}>\n                                        <button className=\"update-btn\">\n                                            Update\n                                        </button>\n                                    </Link>\n                                    <button className=\"delete-btn\" onClick={() => destroy(p._id)}>\n                                        Delete\n                                    </button>\n                                </div>\n                            </li>\n                        ))}\n                    </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default ManageProducts;","import React, { useState, useEffect } from 'react';\nimport { isAuthenticated } from '../auth';\nimport { Redirect } from 'react-router-dom';\nimport { getProduct, updateProduct } from './apiAdmin';\n\nconst UpdateProduct = ({ match }) => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        shipping: \"\",\n        quantity: \"\",\n        photo: \"\",\n        loading: false,\n        error: \"\",\n        createdProduct: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    const {\n        name,\n        description,\n        price,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    const init = (productId) => {\n        getProduct(productId).then(data => {\n            if(data.error) {\n                setValues({ ...values, error: data.error })\n            } else {\n                setValues({\n                    ...values,\n                    name: data.name,\n                    description: data.description,\n                    price: data.price,\n                    shipping: data.shipping,\n                    quantity: data.quantity,\n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        setValues({ ...values, formData: new FormData() });\n        init(match.params.productId);\n    }, []);\n\n    const handleChange = name => event => {\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        updateProduct(match.params.productId, user._id, token, formData)\n        .then(data => {\n            if(data.error) {\n                setValues({ ...values, error: data.error })\n            } else {\n                setValues({\n                    values, \n                    name: \"\", \n                    description: \"\", \n                    photo: \"\", \n                    price: \"\", \n                    quantity: \"\", \n                    loading: false,\n                    error: false,\n                    redirectToProfile: true,\n                    createdProduct: data.name\n                });\n            }\n        })\n    };\n\n    const newPostForm = () => (\n        <div className=\"login-container\">\n            <h1 className=\"create-title\">Update Product</h1>\n            <form onSubmit={clickSubmit}>\n                        <h2 className=\"create-name\">Name</h2>\n                        <input \n                            onChange={handleChange(\"name\")} \n                            className=\"name-field\" \n                            type=\"text\" \n                            value={name} \n                        />\n                        <h2 className=\"create-pic\">Picture</h2>\n                        <input \n                            onChange={handleChange(\"photo\")} \n                            className=\"image-field\" \n                            type=\"file\" \n                            name=\"photo\" \n                            accept=\"image/*\" \n                        />\n                        <h2 className=\"create-desc\">Description</h2>\n                        <textarea \n                            onChange={handleChange(\"description\")} \n                            className=\"desc-field\" \n                            value={description} \n                        />\n                        <h2 className=\"create-price\">Price</h2>\n                        <input \n                            onChange={handleChange(\"price\")} \n                            className=\"price-field\" \n                            type=\"number\" \n                            value={price} \n                        />\n                        <h2 className=\"create-price\">Shipping</h2>\n                        <select onChange={handleChange(\"shipping\")}>\n                            <option value=\"0\">No</option>\n                            <option value=\"1\">Yes</option>\n                        </select>\n                        <h2 className=\"create-price\">Quantity</h2>\n                        <input \n                            onChange={handleChange(\"quantity\")} \n                            className=\"price-field\"\n                            type=\"number\" \n                            value={quantity} \n                        />\n                        {showSuccess()}\n                        <div className=\"create-btn-container\">\n                            <button className=\"create-btn\" type=\"submit\">Update Coffee</button>\n                        </div>\n            </form>\n        </div>\n    );\n\n    const showError = () => (\n        <div style={{ display: error ? '' : 'none' }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div style={{ display: createdProduct ? '' : 'none' }}>\n            <h2>{`${createdProduct}`} is updated!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div>\n                <h2>Loading...</h2>\n            </div>\n    );\n\n    const redirectUser = () => {\n        if(redirectToProfile) {\n            if(!error) {\n                return <Redirect to=\"/\" />\n            }\n        }\n    };\n\n    return (\n        <div>\n            <div>\n                <div>\n                    {showLoading()}\n                    {showError()}\n                    {newPostForm()}\n                    {redirectUser()}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default UpdateProduct;","import React, { useState, useEffect } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport jwt from 'jsonwebtoken';\n\nimport \"./Activate.css\";\n\nconst Activate = ({ match }) => {\n    const [values, setValues] = useState({\n        name: '',\n        token: '',\n        error: \"\",\n        success: false,\n        show: true\n    });\n\n    useEffect(() => {\n        let token = match.params.token;\n        let { name } = jwt.decode(token);\n        // console.log(token);\n        if (token) {\n            setValues({ ...values, name, token });\n        }\n    }, []);\n\n    const { name, token, show, success, error } = values;\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        axios({\n            method: 'POST',\n            url: `${process.env.REACT_APP_API_URL}/account-activation`,\n            data: { token }\n        })\n            .then(response => {\n                console.log('ACCOUNT ACTIVATION', response);\n                setValues({ ...values, show: false, success: true });\n            })\n            .catch(error => {\n                console.log('ACCOUNT ACTIVATION ERROR', error.response.data.error);\n            });\n    };\n\n    const activationLink = () => (\n        <div className=\"text-center\">\n            <h1 className=\"p-5\">Hey {name}, ready to activate your account?</h1>\n            {showSuccess()}\n            {showError()}\n            <button className=\"activate-btn\" onClick={clickSubmit}>\n                Activate Account\n            </button>\n        </div>\n    );\n\n    const showError = () => (\n        <div style={{ display: error ? \"\" : \"none\" }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div style={{ display: success ? \"\" : \"none\" }}>\n            Account has been created! Please login.\n        </div>\n    );\n\n    return (\n            <div className=\"col-md-6 offset-md-3 activate-page\">\n                {activationLink()}\n            </div>\n    );\n};\n\nexport default Activate;","import React, { useState } from 'react';\nimport axios from 'axios';\n\nimport \"./Forgot.css\";\n\nconst Forgot = ({ history }) => {\n    const [values, setValues] = useState({\n        email: '',\n        error: \"\",\n        success: false\n    });\n\n    const { email, success, error } = values;\n\n    const handleChange = name => event => {\n        console.log(event.target.value);\n        setValues({ ...values, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values });\n        axios({\n            method: 'PUT',\n            url: `${process.env.REACT_APP_API_URL}/forgot-password`,\n            data: { email }\n        })\n            .then(response => {\n                console.log('FORGOT PASSWORD SUCCESS', response);\n                setValues({ ...values, success: true });\n            })\n            .catch(error => {\n                console.log('FORGOT PASSWORD ERROR', error.response.data);\n                setValues({ ...values });\n            });\n    };\n\n    const passwordForgotForm = () => (\n        <form>\n            <div className=\"forgot-form\">\n                <label className=\"email-name\">Email</label>\n                <input onChange={handleChange('email')} value={email} type=\"email\" className=\"email-box\" />\n                {showSuccess()}\n                {showError()}\n                <button className=\"reset-btn\" onClick={clickSubmit}>\n                    Request Link\n                </button>\n            </div>\n        </form>\n    );\n\n    const showError = () => (\n        <div style={{ display: error ? \"\" : \"none\" }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div style={{ display: success ? \"\" : \"none\" }}>\n            Email has been sent!\n        </div>\n    );\n\n    return (\n            <div className=\"forgot-container\">\n                <h2 style={{fontFamily: \"Raleway\", textAlign: \"center\", fontSize: \"40px\", marginTop: \"3rem\"}}>Forgot Password</h2>\n                {passwordForgotForm()}\n            </div>\n    );\n};\n\nexport default Forgot;","import React, { useState, useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\n\nconst Reset = ({ match }) => {\n    // props.match from react router dom\n    const [values, setValues] = useState({\n        name: '',\n        token: '',\n        newPassword: '',\n        error: false,\n        success: false\n    });\n\n    useEffect(() => {\n        let token = match.params.token;\n        let { name } = jwt.decode(token);\n        console.log(name);\n        if (token) {\n            setValues({ ...values, name, token });\n        }\n    }, []);\n\n    const { name, token, newPassword, success, error } = values;\n\n    const handleChange = event => {\n        setValues({ ...values, newPassword: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values });\n        axios({\n            method: 'PUT',\n            url: `${process.env.REACT_APP_API_URL}/reset-password`,\n            data: { newPassword, resetPasswordLink: token }\n        })\n            .then(response => {\n                console.log('RESET PASSWORD SUCCESS', response);\n                setValues({ ...values, success: true });\n            })\n            .catch(error => {\n                console.log('RESET PASSWORD ERROR', error.response.data);\n                setValues({ ...values, error: true });\n            });\n    };\n\n    const passwordResetForm = () => (\n        <form>\n            <div className=\"forgot-form\">\n                <label className=\"password\">Password</label>\n                <input\n                    onChange={handleChange}\n                    value={newPassword}\n                    type=\"password\"\n                    className=\"password-box\"\n                    placeholder=\"Type new password\"\n                    required\n                />\n                {showSuccess()}\n                {showError()}\n                <button className=\"reset-btn\" onClick={clickSubmit}>\n                    Reset Password\n                </button>\n            </div>\n        </form>\n    );\n\n    const showError = () => (\n        <div style={{ display: error ? \"\" : \"none\" }}>\n            Expired Link. Try again.\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div style={{ display: success ? \"\" : \"none\" }}>\n            Password has been reset!\n        </div>\n    );\n\n    return (\n            <div className=\"forgot-container\">\n                <h2 style={{fontFamily: \"Raleway\", textAlign: \"center\", fontSize: \"40px\", marginTop: \"3rem\"}}>Hey {name}, type your new password!</h2>\n                {passwordResetForm()}\n            </div>\n    );\n};\n\nexport default Reset;","import React, { Component } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport Home from \"./home/Home\";\nimport Footer from \"./home/Footer\";\nimport Navbar from \"./home/Navbar\";\nimport SideDrawer from \"./SideDrawer\";\nimport Backdrop from \"./Backdrop\";\nimport AdminRoute from \"./auth/AdminRoute\";\nimport PrivateRoute from \"./auth/PrivateRoute\"\nimport Dashboard from \"./user/UserDashboard\";\nimport AdminDashboard from \"./user/AdminDashboard\";\nimport AddProduct from \"./admin/AddProduct\";\nimport Product from \"./home/Product\";\nimport Cart from \"./home/Cart\";\nimport Checkout from \"./home/Checkout\";\nimport Orders from \"./admin/Orders\";\nimport Profile from \"./user/Profile\";\nimport ManageProducts from \"./admin/ManageProducts\";\nimport UpdateProduct from \"./admin/UpdateProduct\";\nimport Activate from \"./user/Activate\";\nimport Forgot from \"./user/Forgot\";\nimport Reset from \"./user/Reset\";\n\nclass Routes extends Component {\n    state = {\n        sideDrawerOpen: false\n    };\n\n    drawerTogglerClickHandler = () => {\n        this.setState((prevState) => {\n          return {sideDrawerOpen: !prevState.sideDrawerOpen};\n        });\n    };\n\n    backdropClickHandler = () => {\n        this.setState({sideDrawerOpen: false});\n    };\n\n    render() {\n        let backdrop;\n\n        if (this.state.sideDrawerOpen) {\n            backdrop = <Backdrop click={this.backdropClickHandler} />\n        }\n        return (\n            <div>\n                <BrowserRouter>\n                    <Navbar drawerClickHandler={this.drawerTogglerClickHandler} />\n                    <SideDrawer show={this.state.sideDrawerOpen} click={this.backdropClickHandler} />\n                    {backdrop}\n                    <Switch>\n                        <Route path=\"/\" exact component={Home} />\n                        <Route path=\"/signin\" exact component={Signin} />\n                        <Route path=\"/auth/activate/:token\" exact component={Activate} />\n                        <Route path=\"/auth/password/forgot\" exact component={Forgot} />\n                        <Route path=\"/auth/password/reset/:token\" exact component={Reset} />\n                        <Route path=\"/signup\" exact component={Signup} />\n                        <PrivateRoute\n                            path=\"/user/dashboard\"\n                            exact\n                            component={Dashboard}\n                        />\n                        <AdminRoute\n                            path=\"/admin/dashboard\"\n                            exact\n                            component={AdminDashboard}\n                        />\n                        <AdminRoute\n                            path=\"/create/product\"\n                            exact\n                            component={AddProduct}\n                        />\n                        <Route path=\"/product/:productId\" exact component={Product} />\n                        <Route path=\"/cart\" exact component={Cart} />\n                        <Route path=\"/checkout\" exact component={Checkout} />\n                        <AdminRoute\n                            path=\"/admin/orders\"\n                            exact\n                            component={Orders}\n                        />\n                        <PrivateRoute\n                            path=\"/profile/:userId\"\n                            exact\n                            component={Profile}\n                        />\n                        <AdminRoute\n                            path=\"/admin/products\"\n                            exact\n                            component={ManageProducts}\n                        />\n                        <AdminRoute\n                            path=\"/admin/product/update/:productId\"\n                            exact\n                            component={UpdateProduct}\n                        />\n                    </Switch>\n                </BrowserRouter>\n                <Footer />\n            </div>\n        );\n    };\n};\n\nexport default Routes;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}